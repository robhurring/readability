<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">About</div>
      <div class="panel-body">
        <p>
          Gunning Fog, Flesch Reading Ease, and Flesch-Kincaid are reading level algorithms that can be helpful in determining how readable your content is. Reading level algorithms only provide a rough guide, as they tend to reward short sentences made up of short words. Whilst they're rough guides, they can give a useful indication as to whether you've pitched your content at the right level for your intended audience.
        </p>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">Enter URLs</div>
      <div class="panel-body">
        <form name="dataForm" role="form">
          <div class="form-group">
            <label for="urlList">URLs To Scan</label>
            <textarea name="urlList" ng-model="data.urlList" class="form-control" rows="7" placeholder="Enter 1 URL per line" required></textarea>
          </div>

          <div class="row">
            <div class="col-xs-2">
              <button ng-disabled="dataForm.$invalid" ng-click="processList()" ui-ladda="processing" data-spinner-size="40" class="ladda-button" data-style="expand-left">
                <span class="ladda-label">{{ buttonLabel }}</span>
              </button>
            </div>
            <div class="col-xs-8 pull-right">
              <div class="alert alert-info form-alert" ng-show="dataForm.$invalid">
                <p>Enter a list of URLs to process in the text area below and click &quot;Process&quot;</p>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">Results</div>
      <div class="panel-body" ng-hide="results.length">
        <p>Process some urls</p>
      </div>
      <div class="table-responsive">
        <table class="table" ng-show="results.length">
          <thead>
            <tr>
              <th width="35%">URL</th>
              <th>Statistics</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="result in results | filter: {ok: true}">
              <td><a ng-href="{{ result.url }}">{{ result.url }}</a></td>
              <td>
                <dl>
                  <dt>Flesch Reading Ease <popover data="help.ease"></dt>
                  <dd>{{ result.data.stats.readingEase }}</dd>
                  <dt>Gunning-Fog Index <popover data="help.fog"></dt>
                  <dd>{{ result.data.stats.gunningFog }}</dd>
                  <dt>Flesch-Kincaid grade level <popover data="help.grade"></dt>
                  <dd>{{ result.data.stats.gradeLevel }}</dd>
                  <dt>Title ({{result.data.meta.title.length}})</dt>
                  <dd>{{ result.data.meta.title }}
                  <dt>Description ({{ result.data.meta.description.length }})</dt>
                  <dd>{{ result.data.meta.description }}
                  <dt>Top Keywords</dt>
                  <dd>
                    <ol>
                      <li ng-repeat="keyword in result.data.metrics.keywordDensity">{{ keyword.word }}</li>
                    </ol>
                  </dd>
                  <dt>Suggestions</dt>
                  <dd>
                    <ol>
                      <li ng-repeat="suggestion in result.data.metrics.suggestions">
                        {{ suggestion.reason }}
                      </li>
                    </ol>
                  </dd>
                </dl>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="panel panel-danger" ng-show="processingErrors">
      <div class="panel-heading">Errors</div>
      <table class="table">
        <thead>
          <tr>
            <th width='20%'>URL</th>
            <th>Error Message</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="result in results | filter: {ok: false}">
            <td><a ng-href="{{ result.url }}">{{ result.url }}</a></td>
            <td>{{ result.error }}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
